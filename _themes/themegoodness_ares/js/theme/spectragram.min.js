/*!
 * jQuery - Spectragram by Adrian Quevedo
 * http://adrianquevedo.com/  - http://lab.adrianquevedo.com/ - http://elnucleo.com.co/
 *
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * You are free to use this plugin in commercial projects as long as the copyright header is left intact.
 *
 * This plugin uses the Instagram(tm) API and is not endorsed or certified by Instagram or Burbn, inc. 
 * All Instagram(tm) logos and trademarks displayed on this plugin are property of Burbn, Inc.
 *
 * Date: Thu Jul 15 14:05:02 2012 -0500
 */
if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()}}(function(c,b,a,e){var d={init:function(g,h){var f=this;f.elem=h;f.$elem=c(h);f.api="https://api.instagram.com/v1",f.accessData=c.fn.spectragram.accessData,f.options=c.extend({},c.fn.spectragram.options,g)},getRecentMedia:function(h){var g=this,f="/users/"+h+"/media/recent/?"+g.accessData.clientID+"&access_token="+g.accessData.accessToken+"";g.fetch(f).done(function(i){g.display(i)})},getUserFeed:function(){var g=this,f="/users/search?q="+g.options.query+"&count="+g.options.max+"&access_token="+g.accessData.accessToken+"";g.fetch(f).done(function(h){if(h.data.length){g.getRecentMedia(h.data[0].id)}else{c.error("Spectagram.js - Error: the username "+g.options.query+" does not exist.")}})},getPopular:function(){var g=this,f="/media/popular?client_id="+g.accessData.clientID+"&access_token="+g.accessData.accessToken+"";g.fetch(f).done(function(h){g.display(h)})},getRecentTagged:function(){var g=this,f="/tags/"+g.options.query+"/media/recent?client_id="+g.accessData.clientID+"&access_token="+g.accessData.accessToken+"";g.fetch(f).done(function(h){if(h.data.length){g.display(h)}else{c.error("Spectagram.js - Error: the tag "+g.options.query+" does not have results.")}})},fetch:function(f){var h=this,g=h.api+f;return c.ajax({type:"GET",dataType:"jsonp",cache:false,url:g})},display:function(k){var g=this,l=g.options.size,j,f=(g.options.max>=k.data.length)?k.data.length:g.options.max;if(k.data.length===0){g.$elem.append(c(g.options.wrapEachWith).append(g.options.notFoundMsg))}else{for(var h=0;h<f;h++){if(l=="small"){j=k.data[h].images.thumbnail.url}else{if(l=="medium"){j=k.data[h].images.low_resolution.url}else{j=k.data[h].images.standard_resolution.url}}g.$elem.append(c(g.options.wrapEachWith).append("<a title='Pic' target='_blank' href='"+k.data[h].link+"'><img src='"+j+"'></img></a>"))}}if(typeof g.options.complete==="function"){g.options.complete.call(g)}}};jQuery.fn.spectragram=function(g,f){if(jQuery.fn.spectragram.accessData.clientID){this.each(function(){var h=Object.create(d);h.init(f,this);if(h[g]){return h[g](this)}else{c.error("Method "+g+" does not exist on jQuery.spectragram")}})}else{c.error("You must define an accessToken and a clientID on jQuery.spectragram")}};jQuery.fn.spectragram.options={max:10,query:"coffee",size:"medium",wrapEachWith:"<li></li>",complete:null};jQuery.fn.spectragram.accessData={accessToken:null,clientID:null}})(jQuery,window,document);